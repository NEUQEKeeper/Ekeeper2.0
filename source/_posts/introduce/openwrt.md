---
title: AX6Såˆ·å…¥openwrtè®°å½•
date: 2023-5-29 18:18:18
author: ç ”é…±å“’å“Ÿ
description: è¢«å¯¼å¸ˆå«å»å½“å·¥å…·äººäº†æğŸ¥º
categories:
  - æ•™ç¨‹
tags:
  - ç½‘ç»œ
---

# AX6Såˆ·å…¥openwrtå¯ç”¨mentohustè®°å½•

## å‰è¨€

è¢«å¯¼å¸ˆå«å»å¸®å¿™è£…`mentohust`ï¼Œå‡†å¤‡å¥½äº†`ipk`æ–‡ä»¶ç©ºæ‰‹å°±è¿‡å»äº†ï¼Œç»“æœè¢«å‘ŠçŸ¥è·¯ç”±å™¨æ˜¯æ–°çš„ï¼Œæ²¡åˆ·è¿‡`openwrt`ğŸ˜­

äºæ˜¯æŠŠè·¯ç”±å™¨å€Ÿäº†å›æ¥åˆ·ä¸€æ³¢ï¼Œå¥½åœ¨è¿™ä¸ªå‹å·ç½‘ä¸Šæ•™ç¨‹å¾ˆå…¨ï¼Œç‰¹æ­¤è®°å½•ã€‚

## ä¸ºä»€ä¹ˆè¦mentohust

mentohustå¯ä»¥åœ¨è·¯ç”±å™¨ç™»å½•æ ¡å›­ç½‘ï¼Œè¿™æ ·è·¯ç”±å™¨å°±å¯ä»¥æŠŠç½‘ç»œåˆ†äº«å‡ºå»äº†ï¼Œé€šè¿‡è¿æ¥wifiï¼Œç›´æ¥è®¿é—®äº’è”ç½‘ï¼Œå¹¶ä¸”å¯ä»¥è®¿é—®æ ¡å†…å†…ç½‘èµ„æºã€‚ä»¥å‰æ ¡å›­ç½‘è´¦æˆ·æœ‰åŒ…æœˆç­–ç•¥æ—¶ï¼Œæˆ‘ä»¬ç”¨å®ƒ24å°æ—¶è–…æ ¡å›­ç½‘ï¼Œç°åœ¨æœ¬ç§‘ç”Ÿåªç»™å…è´¹5Gäº†ï¼Œæ‰€ä»¥è¿™ç§å…±äº«äº’è”ç½‘çš„æ–¹å¼å¯èƒ½åªé€‚åˆè€å¸ˆæˆ–è€…ç ”ç©¶ç”Ÿäº†ã€‚

## è·¯ç”±å™¨å‹å·

`Redmi AX6S`

## Step 1ï¼š æ¢å¼€å‘ç‰ˆ

### å‡†å¤‡

1. è¿æ¥WiFiï¼Œç™»å½•ç½‘å…³è¿›è¡Œåˆå§‹åŒ–

2. å¯†ç è®¾ç½®ä¸ºï¼š`Passw0rd`

3. ä¸‹è½½å†…æµ‹å›ºä»¶ï¼šAX6Så¼€å‘ç‰ˆå›ºä»¶1.2.7ï¼š[https://wwp.lanzoul.com/ib8UK0fofpdi](https://wwp.lanzoul.com/ib8UK0fofpdi) ï¼ˆå¯†ç :5v1sï¼‰

### å¼€åˆ·

é‡æ–°è¿æ¥è®¾ç½®å¥½çš„ssid

å†æ¬¡è¿›å…¥ç½‘å…³åå°ï¼Œåœ¨å¸¸ç”¨è®¾ç½®é€‰æ‹©æ‰‹åŠ¨å‡çº§

![image-20230529163635126](https://gitee.com/niimi_sora/pic-upload/raw/master/pics/2023-05-29-9d2cc3-image-20230529163635126.png)

é€‰æ‹©é‚£ä¸ªmiwifiå¼€å¤´çš„bin fileï¼Œç‚¹å‡»å‡çº§

![image-20230529164217182](https://gitee.com/niimi_sora/pic-upload/raw/master/pics/2023-05-29-fbdfe0-2023-05-29-161c6d-image-20230529164217182.png)

ç­‰å¾…è·¯ç”±å™¨äº®èµ·è“ç¯

é‡æ–°è¿›å…¥ç®¡ç†ç•Œé¢ï¼Œè‹¥romç‰ˆæœ¬å˜ä¸ºå¼€å‘ç‰ˆï¼Œåˆ™æˆåŠŸã€‚

![image-20230529164625023](https://gitee.com/niimi_sora/pic-upload/raw/master/pics/2023-05-29-549c2e-2023-05-29-ed0a26-image-20230529164625023.png)

## Step2ï¼šè·å–SSHå¯†ç 

### å‡†å¤‡

SSHå¯†ç è·å–ç½‘ç«™ï¼š[https://www.oxygen7.cn/miwifi](https://www.oxygen7.cn/miwifi)

å¤‡ç”¨ï¼š[https://miwifi.dev/ssh](https://miwifi.dev/ssh)

### å¼€æ•´

è¿›å…¥https://miwifi.dev/ssh

è¾“å…¥SNï¼Œè®¡ç®—å‡ºSSHçš„å¯†ç 

![image-20230529164805498](https://gitee.com/niimi_sora/pic-upload/raw/master/pics/2023-05-29-8d283a-image-20230529164805498.png)

æˆ‘è¿™é‡Œç®—å‡ºæ¥çš„æ˜¯ï¼š`4a10224d`

## Step3ï¼šåˆ·å…¥åº•åŒ…

### å‡†å¤‡

[ax6s-openwrtå›ºä»¶.zipï¼ˆå¯†ç :38o0ï¼‰](https://wwp.lanzoul.com/iIFgB0fofhzc)

è§£å‹ï¼Œå¾—åˆ°ä¸‰ä¸ªbinæ–‡ä»¶ï¼š

- `factory.bin`ä¸ºåº•åŒ…
- `ax6s-full.bin`ä¸ºOpenWrté«˜å¤§å…¨ç‰ˆ
- `ax6s-mini.bin`ä¸ºOpenWrtç²¾ç®€ç‰ˆ

### ä½¿ç”¨telnetç™»å½•è·¯ç”±å™¨

ipå¡«è·¯ç”±å™¨ipï¼Œç”¨æˆ·å`root`

![image-20230529165650804](https://gitee.com/niimi_sora/pic-upload/raw/master/pics/2023-05-29-bdaa70-image-20230529165650804.png)

è¿›å…¥

![image-20230529165757774](https://gitee.com/niimi_sora/pic-upload/raw/master/pics/2023-05-29-629691-image-20230529165757774.png)

è¾“å…¥`root`ï¼Œå›è½¦

å¯†ç è¾“å…¥åˆšåˆšç®—å‡ºæ¥çš„`4a10224d`ï¼Œå›è½¦

![image-20230529165917791](https://gitee.com/niimi_sora/pic-upload/raw/master/pics/2023-05-29-9e6d5c-image-20230529165917791.png)

### è¾“å…¥å‘½ä»¤è·å–SSHæƒé™

- `nvram set ssh_en=1& nvram set uart_en=1 & nvram set boot_wait=on & nvram setbootdelay=3 & nvram set flag_try_sys1_failed=0 & nvram setflag_try_sys2_failed=1 `

- `nvram setflag_boot_rootfs=0 & nvram set "boot_fw1=run boot_rd_img;bootm" `
- `nvram setflag_boot_success=1 & nvram commit & /etc/init.d/dropbear enable &/etc/init.d/dropbear start`

![image-20230529170132469](https://gitee.com/niimi_sora/pic-upload/raw/master/pics/2023-05-29-5eac0c-image-20230529170132469.png)

### SSHç™»å½•

è¾“å…¥`ssh root@192.168.31.1`ï¼Œè¾“å…¥yesä¿å­˜æŒ‡çº¹

![image-20230529170323658](https://gitee.com/niimi_sora/pic-upload/raw/master/pics/2023-05-29-565199-image-20230529170323658.png)

å¯†ç ä½¿ç”¨ä¹‹å‰è®¡ç®—å‡ºæ¥çš„å¯†ç ï¼š`4a10224d`

![image-20230529170455573](https://gitee.com/niimi_sora/pic-upload/raw/master/pics/2023-05-29-e7b1ad-image-20230529170455573.png)

### ä¸Šä¼ åº•åŒ…

åœ¨åº•åŒ…æ‰€åœ¨æ–‡ä»¶å¤¹shiftåŠ å³é”®

![image-20230529170658186](https://gitee.com/niimi_sora/pic-upload/raw/master/pics/2023-05-29-32168a-image-20230529170658186.png)

åœ¨æ­¤å¤„æ‰“å¼€`powershell`

è¾“å…¥ï¼š`scp .\factory.bin root@192.168.31.1:/tmp/factory.bin`

è¾“å…¥å¯†ç 

![image-20230529170821046](https://gitee.com/niimi_sora/pic-upload/raw/master/pics/2023-05-29-3deb65-image-20230529170821046.png)

### å¼€åˆ·

å›åˆ°SSHç™»å½•å¥½è·¯ç”±å™¨çš„åœ°æ–¹

`ls /tmp/factory.bin`

![image-20230529171041408](https://gitee.com/niimi_sora/pic-upload/raw/master/pics/2023-05-29-813024-2023-05-29-27ffd4-image-20230529171041408.png)

æ²¡æœ‰è¿”å›`no such file or directory`è¯´æ˜ä¸Šä¼ æˆåŠŸ

è¾“å…¥ï¼š`mtd -r write /tmp/factory.bin firmware`

![image-20230529171139027](https://gitee.com/niimi_sora/pic-upload/raw/master/pics/2023-05-29-ce55a9-image-20230529171139027.png)

ç­‰å¾…è·¯ç”±å™¨äº®è“ç¯ï¼Œæœç´¢wifiï¼Œå¦‚æœå‡ºç°ä¸¤ä¸ª`Openwrt`çš„wifiï¼Œåˆ™æˆåŠŸã€‚

![image-20230529171245939](https://gitee.com/niimi_sora/pic-upload/raw/master/pics/2023-05-29-4b0e16-image-20230529171245939.png)

## Step4ï¼šå¼€åˆ·Openwrt

### å‡†å¤‡

è¿ä¸Š`Openwrt`çš„wifiæˆ–è€…ç½‘çº¿æŸ¥lanå£è¿ä¸Šç”µè„‘

æŸ¥çœ‹wifiè¿æ¥å±æ€§

![image-20230529171703633](https://gitee.com/niimi_sora/pic-upload/raw/master/pics/2023-05-29-28c768-image-20230529171703633.png)

çœ‹åˆ°ç½‘æ®µä¸º`192.168.6.x`ï¼Œè·¯ç”±å™¨åœ°å€ä¸º`192.168.6.1`

### è¿›å…¥åå°åˆ·å›ºä»¶

åœ¨æµè§ˆå™¨è¾“å…¥è·¯ç”±å™¨åœ°å€ï¼Œè¿›å…¥

![image-20230529171834792](https://gitee.com/niimi_sora/pic-upload/raw/master/pics/2023-05-29-5904f3-2023-05-29-cc4308-image-20230529171834792.png)

ç”¨æˆ·å`root`ï¼Œå¯†ç é»˜è®¤`password`

å·¦è¾¹èœå•é€‰ç³»ç»Ÿï¼Œå¤‡ä»½/å‡çº§

![image-20230529171950134](https://gitee.com/niimi_sora/pic-upload/raw/master/pics/2023-05-29-eedcc8-image-20230529171950134.png)

åˆ·å†™æ–°å›ºä»¶ï¼Œé€‰æ‹©`ax6s-full.bin`

![image-20230529172045362](https://gitee.com/niimi_sora/pic-upload/raw/master/pics/2023-05-29-259db3-image-20230529172045362.png)

ç‚¹å‡»åˆ·å†™å›ºä»¶ï¼Œè·³å‡ºæ¥çš„ç•Œé¢ç‚¹å¤„ç†

![image-20230529172141412](https://gitee.com/niimi_sora/pic-upload/raw/master/pics/2023-05-29-4c31c6-image-20230529172141412.png)

ç»§ç»­ç­‰å¾…è·¯ç”±å™¨æŒ‡ç¤ºç¯å˜è“

## mentohustè®¤è¯

åˆ·å…¥åæœ‰0.3.1çš„ `mentohust`ï¼ŒæƒŠå–œ

ä¸éœ€è¦ä»`ipk`åŒ…å¼€å§‹åˆ·äº†ï¼Œç™»å½•åå°å¡«å¥½äº†å°±ç”¨

`NEUQ`çš„æ ¡å›­ç½‘åªèƒ½ç”¨æ—§ç‰ˆæœ¬çš„ï¼Œæ–°ç‰ˆæœ¬ç”¨ä¸äº†ï¼ˆè¸©è¿‡å‘QAQã€‚è¿™ä¸ªå›ºä»¶è‡ªå¸¦ç‰ˆæœ¬æ­£å¥½å’Œä¸Šæ¬¡æˆåŠŸçš„ç‰ˆæœ¬ä¸€æ ·ã€‚

å…ˆè¿›å…¥æ¥å£ï¼Œæ‰¾åˆ°ç½‘å¡

![image-20230529175044458](https://gitee.com/niimi_sora/pic-upload/raw/master/pics/2023-05-29-9dfd84-image-20230529175044458.png)

è¿™é‡Œwanå£ç”¨çš„`eth0.2`

### mentohustè®¾ç½®

è¿›å…¥æœåŠ¡-`MenToHUST`

å…ˆè®¾ç½®é«˜çº§è®¾ç½®

![image-20230529175247909](https://gitee.com/niimi_sora/pic-upload/raw/master/pics/2023-05-29-74f835-image-20230529175247909.png)

ipåœ°å€å¡«åŠå…¬å®¤çš„ç½‘å£ipæ®µä¸­çš„ä»»æ„ä¸€ä¸ª

å­ç½‘æ©ç æ”¹ä¸º`255.255.255.0`ï¼Œç½‘å…³å¯¹åº”ç€æ”¹ä¸€ä¸‹

DNSæœåŠ¡å™¨å¡«å…¬å…±DNSæœåŠ¡å™¨æ¯”å¦‚`8.8.8.8`

![image-20230529175510023](https://gitee.com/niimi_sora/pic-upload/raw/master/pics/2023-05-29-bc1264-image-20230529175510023.png)

ç»„æ’­åœ°å€é€‰é”æ·ï¼Œ`DHCP`é€‰æœªé…ç½®

ä¿å­˜&åº”ç”¨

ç„¶åå›åˆ°å¸¸è§„è®¾ç½®

![image-20230529175607485](https://gitee.com/niimi_sora/pic-upload/raw/master/pics/2023-05-29-0d5799-image-20230529175607485.png)

å‹¾é€‰å¯ç”¨ï¼Œç”¨æˆ·åå¯†ç å¡«æ ¡å›­ç½‘çš„

æ¥å£é€‰æ‹©ä¸Šé¢æŸ¥åˆ°çš„`eth0.2`

pingä¸»æœºè®¾ç½®ä¸º`114.114.114.114`

ä¿å­˜&åº”ç”¨

è¿‡ä¸€ä¼šå„¿å°±æœ‰ç½‘ç»œäº†ã€‚
